```python
ssh-keygen
```


```python
cat /root/.ssh/id_rsa.pub
```


```python
ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCkwiz8rP8BbxJp8eqCG82tAzlZmBMyXr2nqg/74ikF094nVz++ZQcy7Rj2RpX8YmJpqvI2ql4O33oNeXQeB2gBx+exJO5o9xYXM4Dv5ICQAvQjsjJZu8YiuZ29rrNvTKbmOrv3CzQpkN79v2j6bUxMEp7flb71GIrBJ9T3H2IX4DUeXF/AVhDKKBvayirlMpQwI7VQFXH5aDKi8sqw5EfGJFP92OHZ8FZYajh1gE0/tGBRgSJW1XPlGpZoR6yWw5UsDac3X0Q6tXv9VreFDEalcEgBkzbfNoQKs9/QUnB5lU2T0ewjsh5C0QKhCb36hXpknEGTGpw7sT/WjJqXkyuh root@is6365
```


```python
# 重启63.65 reboot后，要做哪些操作
```


```python
service mysql status
```


```python
service mysql start
```


```python
service mysql status
```


```python
sudo systemctl status tbms.service
```


```python
cd /
```


```python
ls -al
```


```python
cd usr/local/
```


```python
/usr/local]# ls -al
```


```python
systemctl status httpd
```


```python
systemctl stop nginx
netstat -tulnp | grep 80

systemctl start httpd
systemctl status httpd
```


```python

```


```python

```


```python
smbclient -L //127.0.01 -U laoda
```


```python
def mixed_function(*args, **kwargs):
    for number in args:
        print(number)
    for key, value in kwargs.items():
        print(f"{key}: {value}")
```


```python
list_a=[1,2,3]
```


```python

dicts_a = { "name": "Bob", "age": 25, "weight": 58.6, "class1": 1 }
```


```python

mixed_function(*list_a, **dicts_a)
# 输出:
# Arguments: (1, 2, 3)
# Keyword Arguments: {'name': 'Bob', 'age': 25}

```

    1
    2
    3
    name: Bob
    age: 25
    weight: 58.6
    class1: 1
    


```python
# python-orm 使用方法
```


```python
from sqlalchemy import create_engine, Column, Integer, String
from sqlalchemy.orm import declarative_base, sessionmaker

Base = declarative_base()

class A(Base):
    __tablename__ = 'a_table'  # 表A的名称
    id = Column(Integer, primary_key=True)
    field1 = Column(String)  # 包含多个值的字段

class B(Base):
    __tablename__ = 'b_table'  # 表B的名称
    id = Column(Integer, primary_key=True)
    field1 = Column(String)
    field2 = Column(String)

```


```python
# 替换为你的数据库连接字符串
engine = create_engine('sqlite:///example.db')  # 使用SQLite数据库作为示例
Base.metadata.create_all(engine)  # 创建表

Session = sessionmaker(bind=engine)
session = Session()

```


```python
def match_fields():
    # 获取所有A表的数据
    a_records = session.query(A).all()

    for a in a_records:
        # 拆分字段1中的值
        values = [value.strip() for value in a.field1.split(',')]  # 拆分并去除空格

        for value in values:
            # 在B表中查找匹配
            matching_b = session.query(B).filter(B.field1 == value).first()
            if matching_b:
                print(f'匹配：{value} -> {matching_b.field2}')

# 调用匹配函数
match_fields()

```


```python
from sqlalchemy import create_engine, Column, Integer, String
from sqlalchemy.orm import declarative_base, sessionmaker

# 创建数据库模型基类
Base = declarative_base()

# 定义表A
class A(Base):
    __tablename__ = 'a_table'
    id = Column(Integer, primary_key=True)
    field1 = Column(String)  # 包含多个值的字段

# 定义表B
class B(Base):
    __tablename__ = 'b_table'
    id = Column(Integer, primary_key=True)
    field1 = Column(String)
    field2 = Column(String)

# 创建SQLite数据库引擎
engine = create_engine('sqlite:///example.db')
Base.metadata.create_all(engine)  # 创建表

# 创建会话
Session = sessionmaker(bind=engine)
session = Session()

# 插入示例数据
def insert_sample_data():
    # 清空表
    session.query(A).delete()
    session.query(B).delete()

    # 添加表A数据
    a1 = A(field1='apple, banana, cherry')
    a2 = A(field1='date, fig, grape')
    session.add_all([a1, a2])

    # 添加表B数据
    b1 = B(field1='apple', field2='fruit 1')
    b2 = B(field1='banana', field2='fruit 2')
    b3 = B(field1='cherry', field2='fruit 3')
    b4 = B(field1='date', field2='fruit 4')
    b5 = B(field1='fig', field2='fruit 5')
    session.add_all([b1, b2, b3, b4, b5])

    session.commit()

# 调用插入数据函数
insert_sample_data()

# 匹配字段的函数
def match_fields():
    # 获取所有A表的数据
    a_records = session.query(A).all()

    for a in a_records:
        # 拆分字段1中的值
        values = [value.strip() for value in a.field1.split(',')]  # 拆分并去除空格

        for value in values:
            # 在B

```


```python

```


```python

```


```python
# c#-orm 方法
#ORM（对象关系映射）是一种将对象编程语言中的对象与数据库中的数据表之间建立映射关系的技术。在C#中，最常用的ORM框架是Entity Framework（EF）。
#Entity Framework 是一个开源的ORM框架，可以简化数据库操作。通过使用EF，开发者可以以对象的形式操作数据库，而不必编写大量的SQL代码。
```


```python
public class A
{
    public int Id { get; set; }
    public string Field1 { get; set; } // 包含多个值的字段
}

public class B
{
    public int Id { get; set; }
    public string Field1 { get; set; }
    public string Field2 { get; set; }
}

```


```python
public class ApplicationDbContext : DbContext
{
    public DbSet<A> As { get; set; }
    public DbSet<B> Bs { get; set; }

    protected override void OnConfiguring(DbContextOptionsBuilder optionsBuilder)
    {
        optionsBuilder.UseSqlServer("你的连接字符串");
    }
}

```


```python
public void MatchFields()
{
    using (var context = new ApplicationDbContext())
    {
        // 获取所有A表的数据
        var aRecords = context.As.ToList();

        foreach (var a in aRecords)
        {
            // 拆分字段1中的值
            var values = a.Field1.Split(new[] { ',', ' ' }, StringSplitOptions.RemoveEmptyEntries);

            foreach (var value in values)
            {
                // 在B表中查找匹配
                var matchingB = context.Bs.FirstOrDefault(b => b.Field1.Trim() == value.Trim());
                if (matchingB != null)
                {
                    Console.WriteLine($"匹配：{value} -> {matchingB.Field2}");
                }
            }
        }
    }
}

```

## 20241028

# vue的安装

在中国，由于网络原因，直接从 npm 官方仓库下载 Vue 及其相关依赖可能会比较慢。为了提高下载速度，可以使用国内的 npm 镜像源。以下是一些常用的国内镜像源，以及如何配置它们。

### 1. 淘宝 NPM 镜像

淘宝提供的 npm 镜像源非常流行，你可以使用以下命令将 npm 源设置为淘宝镜像：

```bash
npm config set registry https://registry.npmmirror.com
```

### 2. cnpm

`cnpm` 是一个由淘宝维护的 npm 客户端，可以使用 `cnpm` 来代替 `npm` 命令。首先安装 `cnpm`：

```bash
npm install -g cnpm --registry=https://registry.npmmirror.com
```

### 3. vue
cnpm install -g @vue/cli



```python
查看全局安装的 npm 包
```


```python
npm list -g --depth=0
```


```python
# 启动脚手架
```


```python
vue create my_vue_test
```


```python
cd my_vue_test
npm run serve
```


```python
http://172.16.25.116:8080/
```


```python
npm run build
```

## 启动其他项目


```python
npm install -g yarn

```


```python
C:\vue>cd vue_cli_first

C:\vue\vue_cli_first>npm run serve
```


```python

```

# 用友U9的对接洽谈

## 接口说明

1. **展示成功案例**：提供你们之前成功对接其他ERP系统的案例，包括具体的客户、项目规模和取得的成果。这能够直观展示你们的能力和经验。

2. **技术细节说明**：详细介绍你们的技术架构和对接方案，包括数据传输方式、接口设计、系统兼容性等，展示你们对技术细节的掌握。

3. **团队实力介绍**：介绍你们团队的专业背景和经验，特别是曾经处理过类似项目的团队成员，增强对方的信任感。

4. **风险管理计划**：提供一个详细的风险管理计划，包括可能遇到的问题、应对措施和解决方案，展示你们的前瞻性和专业性。

5. **客户支持和培训**：说明在对接过程中和之后，你们将提供的客户支持和培训服务，确保对方在使用过程中能够得到及时的帮助。

6. **沟通与反馈机制**：建立一个良好的沟通渠道，确保在对接过程中能够及时反馈和解决问题，增强合作的透明度。

7. **试点项目**：如果可能，可以提议先进行一个小规模的试点项目，降低对方的风险，让他们亲身体验你们的服务和能力。


```python
https://blog.csdn.net/u014287572/article/details/135689375
```


```python
https://openapi.yyu9c.com/doc.html#/U9C%20OPENAPI/APBill/APBill_Create
```


```python
故事线：
  1. WMS的技术框架，支持哪些接口通信（接口。成功的对接案例（接口
  2. 对用友U9的openapi调查和理解
  3. WMS与U9的接口调用实施方案
  4. 展示类似案例 
  5. 试点项目
```

### 故事线：WMS 与用友 U9 的对接实施方案

#### 1. WMS 的技术框架及接口通信

**技术框架概述**：
- WMS（仓库管理系统）通常采用微服务架构，支持高并发和灵活扩展。
- 常见的技术栈包括 Java、.NET、Python 等，数据库多为 MySQL、SQL Server 或 Oracle。

**支持的接口通信**：
- **RESTful API**：通过 HTTP 协议进行数据交换，支持 JSON/XML 格式。
- **SOAP API**：基于 XML 的协议，适用于需要严格数据格式的场景。
- **MQ（消息队列）**：如 RabbitMQ、Kafka，用于异步通信，提升系统的解耦性。
- **文件传输**：通过 FTP/SFTP 进行批量数据的上传和下载。

**成功的对接案例**：
- 某大型电商企业成功将 WMS 系统与其 ERP 系统（如 SAP）进行了对接，实现了订单、库存等信息的实时同步，提升了仓库管理效率。

#### 2. 对用友 U9 的 OpenAPI 调查和理解

**OpenAPI 概述**：
- 用友 U9 提供的 OpenAPI 是一套 RESTful 接口，支持与外部系统进行数据交互。
- 提供的接口涵盖了采购、销售、库存、财务等多个模块。

**主要功能**：
- **订单管理**：创建、修改、查询订单。
- **库存管理**：实时查询库存状态，进行库存调整。
- **客户管理**：管理客户信息，查询客户订单历史。

**接口文档**：
- 用友 U9 提供详细的接口文档，包含接口路径、请求参数、返回结果等信息，方便开发者进行集成。

#### 3. WMS 与 U9 的接口调用实施方案

**实施步骤**：
1. **需求分析**：
   - 明确业务需求，确定需要对接的功能模块（如订单同步、库存更新等）。

2. **接口设计**：
   - 根据用友 U9 的 OpenAPI 文档，设计 WMS 系统与 U9 的接口调用方案。

3. **开发与测试**：
   - 在 WMS 中实现接口调用逻辑，使用 Postman 等工具进行接口测试，确保数据正确传输。

4. **部署与监控**：
   - 将开发完成的接口部署到生产环境，并设置监控机制，及时处理接口调用中的异常。

#### 4. 展示类似案例

**案例一：某制造企业**：
- 该企业通过将 WMS 与用友 U9 对接，实现了生产订单的自动化管理，库存信息实时更新，减少了人工操作，提高了工作效率。

**案例二：某零售公司**：
- 通过 WMS 与 U9 的集成，实时同步销售订单和库存信息，提升了客户服务质量，减少了缺货情况的发生。

#### 5. 试点项目

**项目概述**：
- 选择一个具有代表性的仓库作为试点，进行 WMS 与用友 U9 的对接实施。

**试点目标**：
- 验证接口调用的稳定性和准确性，评估对接后的业务流程优化效果。

**实施计划**：
1. **试点准备**：
   - 确定试点仓库，组建项目团队，制定详细的实施计划。

2. **数据准备**：
   - 准备试点所需的基础数据，包括商品信息、客户信息等。

3. **接口实施**：
   - 按照设计方案进行接口的开发和测试。

4. **评估与优化**：
   - 在试点完成后，收集反馈，评估对接效果，进行必要的优化。

### 总结

通过以上步骤，WMS 与用友 U9 的对接实施方案将有效提升企业的仓库管理效率，实现信息的实时共享和业务流程的优化。

---
 Upgrade to a faster and more stable API channel by [click here](/#/user/wallet).


```python

```


```python
### OAuth2 授权的好处

1. **安全性**：
   - OAuth2 允许用户授权第三方应用访问其资源，而不需要共享密码。这减少了密码泄露的风险。

2. **用户体验**：
   - 用户可以通过现有账户（如 Google、Facebook 等）快速登录，无需记住多个密码，提高了用户体验。

3. **细粒度权限控制**：
   - OAuth2 支持范围（scope）定义，允许用户选择授予应用的权限，增强了用户对数据的控制。

4. **分离身份验证与授权**：
   - OAuth2 将身份验证和授权分开，使得系统架构更加清晰和灵活。

5. **支持多种客户端**：
   - OAuth2 适用于多种类型的客户端，包括 Web 应用、移动应用和桌面应用，提供了广泛的适用性。

6. **易于集成**：
   - OAuth2 是一种标准协议，许多服务提供商（如 Google、GitHub、Facebook）都支持，便于开发者集成。

### OAuth2 数据传输过程

OAuth2 的数据传输过程通常分为以下几个步骤：

1. **用户请求授权**：
   - 用户在第三方应用中点击“使用 [服务名] 登录”按钮，应用重定向用户到授权服务器。

2. **用户授权**：
   - 用户在授权服务器上登录并同意授予第三方应用访问权限。授权服务器会生成一个授权码。

3. **获取访问令牌**：
   - 第三方应用使用授权码向授权服务器请求访问令牌。请求中包含应用的客户端 ID、客户端密钥、授权码和重定向 URI。

4. **返回访问令牌**：
   - 授权服务器验证请求后，返回访问令牌（Access Token）和可选的刷新令牌（Refresh Token）。

5. **访问受保护资源**：
   - 第三方应用使用访问令牌向资源服务器请求用户的数据。请求中包含访问令牌。

6. **资源服务器验证**：
   - 资源服务器验证访问令牌的有效性，若有效，则返回用户请求的数据。

7. **使用刷新令牌（可选）**：
   - 当访问令牌过期时，第三方应用可以使用刷新令牌向授权服务器请求新的访问令牌。

### 总结

OAuth2 提供了一种安全、灵活的授权机制，允许用户在不泄露密码的情况下，安全地授权第三方应用访问其资源。其数据传输过程清晰，确保了用户数据的安全性和隐私性。
```

以下是基于你提供的故事线的 PPT 框架，涵盖了每一页的主题、布局和内容建议。

### PPT 框架

#### 封面页
- **主题**：WMS 与用友 U9 的对接实施方案
- **布局**：标题居中，底部放置公司名称和日期
- **内容**：项目名称、公司名称、日期

---

#### 第1页：目录
- **主题**：目录
- **布局**：列表形式
- **内容**：
  1. WMS 的技术框架及接口通信
  2. 对用友 U9 的 OpenAPI 调查和理解
  3. WMS 与 U9 的接口调用实施方案
  4. 类似案例展示
  5. 试点项目

---

#### 第2页：WMS 的技术框架及接口通信
- **主题**：WMS 的技术框架
- **布局**：分两部分，左侧为技术框架，右侧为接口通信
- **内容**：
  - 技术框架概述（微服务架构、技术栈）
  - 支持的接口通信（RESTful API、SOAP API、MQ、文件传输）
  - 成功对接案例（简要描述）

---

#### 第3页：用友 U9 的 OpenAPI 概述
- **主题**：用友 U9 的 OpenAPI
- **布局**：分点列出
- **内容**：
  - OpenAPI 概述
  - 主要功能（订单管理、库存管理、客户管理）
  - 接口文档的重要性

---

#### 第4页：WMS 与 U9 的接口调用实施方案
- **主题**：实施方案
- **布局**：流程图或步骤列表
- **内容**：
  - 需求分析
  - 接口设计
  - 开发与测试
  - 部署与监控

---

#### 第5页：类似案例展示
- **主题**：成功案例
- **布局**：两列对比
- **内容**：
  - 案例一：某制造企业（背景、实施效果）
  - 案例二：某零售公司（背景、实施效果）

---

#### 第6页：试点项目概述
- **主题**：试点项目
- **布局**：分点列出
- **内容**：
  - 项目概述
  - 试点目标
  - 实施计划（准备、数据准备、接口实施、评估与优化）

---

#### 第7页：总结与展望
- **主题**：总结与展望
- **布局**：简洁明了的列表
- **内容**：
  - 项目实施的关键点
  - 未来的优化方向
  - 期待的业务成果

---

#### 第8页：问答环节
- **主题**：问答
- **布局**：简洁，留出空白区域
- **内容**：感谢参与，欢迎提问

---

### 补充建议
1. **数据支持**：在案例展示和实施方案中，可以加入一些数据支持，如效率提升的百分比、节约的成本等。
2. **图表使用**：在技术框架和接口通信部分，可以使用图表或示意图来增强可视化效果。
3. **风险评估**：在实施方案中加入风险评估部分，分析可能遇到的挑战及应对策略。
4. **反馈机制**：在试点项目部分，描述如何收集反馈并进行迭代改进。

希望这个框架能帮助你顺利制作 PPT！如果有其他需求，请随时告诉我。

---
 Upgrade to a faster and more stable API channel by [click here](/#/user/wallet).


```python

```


```python

```


```python

```


```python

```


```python
import numpy as np
import pandas as pd
import scipy.stats as stats
import matplotlib.pyplot as plt
import seaborn as sns

# 设置图形风格
sns.set(style="whitegrid")
```


```python
# 创建数据表
data = np.array([[30, 10], [20, 20]])
labels = ['喜欢', '不喜欢']
index = ['男性', '女性']

# 创建DataFrame
df = pd.DataFrame(data, index=index, columns=labels)
print(df)
```

        喜欢  不喜欢
    男性  30   10
    女性  20   20
    


```python
# 进行卡方检验
chi2, p, dof, expected = stats.chi2_contingency(data)

print(f'卡方统计量: {chi2}')
print(f'p值: {p}')
print(f'自由度: {dof}')
print(f'期望频数: \n{expected}')
```

    卡方统计量: 4.32
    p值: 0.03766692222862869
    自由度: 1
    期望频数: 
    [[25. 15.]
     [25. 15.]]
    


```python
如果 p 值小于显著性水平（通常为0.05），我们拒绝原假设，认为性别与喜欢某种产品之间存在显著关系。
```


```python

```


```python
# 创建数据表
data2 = np.array([[15, 5], [10, 20]])
labels2 = ['技术', '管理']
index2 = ['高中', '大学']

# 创建DataFrame
df2 = pd.DataFrame(data2, index=index2, columns=labels2)
print(df2)
```

        技术  管理
    高中  15   5
    大学  10  20
    


```python
# 进行卡方检验
chi2_2, p_2, dof_2, expected_2 = stats.chi2_contingency(data2)

print(f'卡方统计量: {chi2_2}')
print(f'p值: {p_2}')
print(f'自由度: {dof_2}')
print(f'期望频数: \n{expected_2}')
```

    卡方统计量: 6.75
    p值: 0.0093747684594349
    自由度: 1
    期望频数: 
    [[10. 10.]
     [15. 15.]]
    


```python
# 可视化结果
sns.heatmap(expected_2, annot=True, fmt=".2f", cmap='Reds', xticklabels=labels2, yticklabels=index2)
plt.title('期望频数热图')
plt.xlabel('职业类型')
plt.ylabel('教育水平')
plt.show()
```

    /opt/anaconda3/lib/python3.8/site-packages/matplotlib/backends/backend_agg.py:238: RuntimeWarning: Glyph 25216 missing from current font.
      font.set_text(s, 0.0, flags=flags)
    /opt/anaconda3/lib/python3.8/site-packages/matplotlib/backends/backend_agg.py:238: RuntimeWarning: Glyph 26415 missing from current font.
      font.set_text(s, 0.0, flags=flags)
    /opt/anaconda3/lib/python3.8/site-packages/matplotlib/backends/backend_agg.py:238: RuntimeWarning: Glyph 31649 missing from current font.
      font.set_text(s, 0.0, flags=flags)
    /opt/anaconda3/lib/python3.8/site-packages/matplotlib/backends/backend_agg.py:238: RuntimeWarning: Glyph 29702 missing from current font.
      font.set_text(s, 0.0, flags=flags)
    /opt/anaconda3/lib/python3.8/site-packages/matplotlib/backends/backend_agg.py:201: RuntimeWarning: Glyph 25216 missing from current font.
      font.set_text(s, 0, flags=flags)
    /opt/anaconda3/lib/python3.8/site-packages/matplotlib/backends/backend_agg.py:201: RuntimeWarning: Glyph 26415 missing from current font.
      font.set_text(s, 0, flags=flags)
    /opt/anaconda3/lib/python3.8/site-packages/matplotlib/backends/backend_agg.py:201: RuntimeWarning: Glyph 31649 missing from current font.
      font.set_text(s, 0, flags=flags)
    /opt/anaconda3/lib/python3.8/site-packages/matplotlib/backends/backend_agg.py:201: RuntimeWarning: Glyph 29702 missing from current font.
      font.set_text(s, 0, flags=flags)
    /opt/anaconda3/lib/python3.8/site-packages/matplotlib/backends/backend_agg.py:238: RuntimeWarning: Glyph 39640 missing from current font.
      font.set_text(s, 0.0, flags=flags)
    /opt/anaconda3/lib/python3.8/site-packages/matplotlib/backends/backend_agg.py:238: RuntimeWarning: Glyph 20013 missing from current font.
      font.set_text(s, 0.0, flags=flags)
    /opt/anaconda3/lib/python3.8/site-packages/matplotlib/backends/backend_agg.py:238: RuntimeWarning: Glyph 22823 missing from current font.
      font.set_text(s, 0.0, flags=flags)
    /opt/anaconda3/lib/python3.8/site-packages/matplotlib/backends/backend_agg.py:238: RuntimeWarning: Glyph 23398 missing from current font.
      font.set_text(s, 0.0, flags=flags)
    /opt/anaconda3/lib/python3.8/site-packages/matplotlib/backends/backend_agg.py:201: RuntimeWarning: Glyph 39640 missing from current font.
      font.set_text(s, 0, flags=flags)
    /opt/anaconda3/lib/python3.8/site-packages/matplotlib/backends/backend_agg.py:201: RuntimeWarning: Glyph 20013 missing from current font.
      font.set_text(s, 0, flags=flags)
    /opt/anaconda3/lib/python3.8/site-packages/matplotlib/backends/backend_agg.py:201: RuntimeWarning: Glyph 22823 missing from current font.
      font.set_text(s, 0, flags=flags)
    /opt/anaconda3/lib/python3.8/site-packages/matplotlib/backends/backend_agg.py:201: RuntimeWarning: Glyph 23398 missing from current font.
      font.set_text(s, 0, flags=flags)
    /opt/anaconda3/lib/python3.8/site-packages/matplotlib/backends/backend_agg.py:238: RuntimeWarning: Glyph 32844 missing from current font.
      font.set_text(s, 0.0, flags=flags)
    /opt/anaconda3/lib/python3.8/site-packages/matplotlib/backends/backend_agg.py:238: RuntimeWarning: Glyph 19994 missing from current font.
      font.set_text(s, 0.0, flags=flags)
    /opt/anaconda3/lib/python3.8/site-packages/matplotlib/backends/backend_agg.py:238: RuntimeWarning: Glyph 31867 missing from current font.
      font.set_text(s, 0.0, flags=flags)
    /opt/anaconda3/lib/python3.8/site-packages/matplotlib/backends/backend_agg.py:238: RuntimeWarning: Glyph 22411 missing from current font.
      font.set_text(s, 0.0, flags=flags)
    /opt/anaconda3/lib/python3.8/site-packages/matplotlib/backends/backend_agg.py:238: RuntimeWarning: Glyph 26399 missing from current font.
      font.set_text(s, 0.0, flags=flags)
    /opt/anaconda3/lib/python3.8/site-packages/matplotlib/backends/backend_agg.py:238: RuntimeWarning: Glyph 26395 missing from current font.
      font.set_text(s, 0.0, flags=flags)
    /opt/anaconda3/lib/python3.8/site-packages/matplotlib/backends/backend_agg.py:238: RuntimeWarning: Glyph 39057 missing from current font.
      font.set_text(s, 0.0, flags=flags)
    /opt/anaconda3/lib/python3.8/site-packages/matplotlib/backends/backend_agg.py:238: RuntimeWarning: Glyph 25968 missing from current font.
      font.set_text(s, 0.0, flags=flags)
    /opt/anaconda3/lib/python3.8/site-packages/matplotlib/backends/backend_agg.py:238: RuntimeWarning: Glyph 28909 missing from current font.
      font.set_text(s, 0.0, flags=flags)
    /opt/anaconda3/lib/python3.8/site-packages/matplotlib/backends/backend_agg.py:238: RuntimeWarning: Glyph 22270 missing from current font.
      font.set_text(s, 0.0, flags=flags)
    /opt/anaconda3/lib/python3.8/site-packages/matplotlib/backends/backend_agg.py:238: RuntimeWarning: Glyph 25945 missing from current font.
      font.set_text(s, 0.0, flags=flags)
    /opt/anaconda3/lib/python3.8/site-packages/matplotlib/backends/backend_agg.py:238: RuntimeWarning: Glyph 32946 missing from current font.
      font.set_text(s, 0.0, flags=flags)
    /opt/anaconda3/lib/python3.8/site-packages/matplotlib/backends/backend_agg.py:238: RuntimeWarning: Glyph 27700 missing from current font.
      font.set_text(s, 0.0, flags=flags)
    /opt/anaconda3/lib/python3.8/site-packages/matplotlib/backends/backend_agg.py:238: RuntimeWarning: Glyph 24179 missing from current font.
      font.set_text(s, 0.0, flags=flags)
    /opt/anaconda3/lib/python3.8/site-packages/matplotlib/backends/backend_agg.py:201: RuntimeWarning: Glyph 32844 missing from current font.
      font.set_text(s, 0, flags=flags)
    /opt/anaconda3/lib/python3.8/site-packages/matplotlib/backends/backend_agg.py:201: RuntimeWarning: Glyph 19994 missing from current font.
      font.set_text(s, 0, flags=flags)
    /opt/anaconda3/lib/python3.8/site-packages/matplotlib/backends/backend_agg.py:201: RuntimeWarning: Glyph 31867 missing from current font.
      font.set_text(s, 0, flags=flags)
    /opt/anaconda3/lib/python3.8/site-packages/matplotlib/backends/backend_agg.py:201: RuntimeWarning: Glyph 22411 missing from current font.
      font.set_text(s, 0, flags=flags)
    /opt/anaconda3/lib/python3.8/site-packages/matplotlib/backends/backend_agg.py:201: RuntimeWarning: Glyph 25945 missing from current font.
      font.set_text(s, 0, flags=flags)
    /opt/anaconda3/lib/python3.8/site-packages/matplotlib/backends/backend_agg.py:201: RuntimeWarning: Glyph 32946 missing from current font.
      font.set_text(s, 0, flags=flags)
    /opt/anaconda3/lib/python3.8/site-packages/matplotlib/backends/backend_agg.py:201: RuntimeWarning: Glyph 27700 missing from current font.
      font.set_text(s, 0, flags=flags)
    /opt/anaconda3/lib/python3.8/site-packages/matplotlib/backends/backend_agg.py:201: RuntimeWarning: Glyph 24179 missing from current font.
      font.set_text(s, 0, flags=flags)
    /opt/anaconda3/lib/python3.8/site-packages/matplotlib/backends/backend_agg.py:201: RuntimeWarning: Glyph 26399 missing from current font.
      font.set_text(s, 0, flags=flags)
    /opt/anaconda3/lib/python3.8/site-packages/matplotlib/backends/backend_agg.py:201: RuntimeWarning: Glyph 26395 missing from current font.
      font.set_text(s, 0, flags=flags)
    /opt/anaconda3/lib/python3.8/site-packages/matplotlib/backends/backend_agg.py:201: RuntimeWarning: Glyph 39057 missing from current font.
      font.set_text(s, 0, flags=flags)
    /opt/anaconda3/lib/python3.8/site-packages/matplotlib/backends/backend_agg.py:201: RuntimeWarning: Glyph 25968 missing from current font.
      font.set_text(s, 0, flags=flags)
    /opt/anaconda3/lib/python3.8/site-packages/matplotlib/backends/backend_agg.py:201: RuntimeWarning: Glyph 28909 missing from current font.
      font.set_text(s, 0, flags=flags)
    /opt/anaconda3/lib/python3.8/site-packages/matplotlib/backends/backend_agg.py:201: RuntimeWarning: Glyph 22270 missing from current font.
      font.set_text(s, 0, flags=flags)
    


    
![png](output_67_1.png)
    



```python

```


```python
git clone https://gitee.com/misumi-mpt/wms-front.git
```


```python
8055c8381e9c758875add08c5bb95460
```


```python

```


```python
import base64
from IPython.display import Image, display


def visualize_flowchart(graph):
    graphbytes = graph.encode("utf-8")
    base64_bytes = base64.b64encode(graphbytes)
    base64_string = base64_bytes.decode("utf-8")
    display(Image(url="https://mermaid.ink/img/" + base64_string))
```


```python
graph = """
graph TD
    A[用户发起请求] --> B[请求授权码]
    B --> C[用户登录并授权]
    C --> D[返回授权码]
    D --> E[使用授权码请求Token]
    E --> F[返回Token]
    G --> H[API返回数据]
    H --> I[Refresh 续期]
    I --> J[返回新的Token]
    J --> G;  %% 循环使用新Token
    F --> K[销毁Token]
    K --> L[关闭连接]
"""
```


```python
visualize_flowchart(graph)
```


<img src="https://mermaid.ink/img/CmdyYXBoIFRECiAgICBBW+eUqOaIt+WPkei1t+ivt+axgl0gLS0+IEJb6K+35rGC5o6I5p2D56CBXQogICAgQiAtLT4gQ1vnlKjmiLfnmbvlvZXlubbmjojmnYNdIAogICAgQyAtLT4gRFvov5Tlm57mjojmnYPnoIFdCiAgICBEIC0tPiBFW+S9v+eUqOaOiOadg+eggeivt+axglRva2VuXSAKICAgIEUgLS0+IEZb6L+U5ZueVG9rZW5dIAogICAgRyAtLT4gSFtBUEnov5Tlm57mlbDmja5dIAogICAgSCAtLT4gSVtSZWZyZXNoIOe7reacn10gCiAgICBJIC0tPiBKW+i/lOWbnuaWsOeahFRva2VuXSAKICAgIEYgLS0+IEtb6ZSA5q+BVG9rZW5dIAogICAgSyAtLT4gTFvlhbPpl63ov57mjqVdIAo="/>



```python
import base64
from IPython.display import Image, display

def visualize_flowchart(graph):
    graphbytes = graph.encode("utf-8")
    base64_bytes = base64.b64encode(graphbytes)
    base64_string = base64_bytes.decode("utf-8")
    display(Image(url="https://mermaid.ink/img/" + base64_string))

# 定义你的Mermaid图
mermaid_graph = """
graph TD
    A[用户发起请求] --> B[请求授权码];
    B --> C[用户登录并授权];
    C --> D[返回授权码];
    D --> E["使用授权码请求Token"];
    E --> F["返回Access Token和Refresh Token"];
    F --> G["使用Access Token访问API"];
    G --> H["API返回数据"];
    H --> I["使用Refresh Token续期Access Token"];
    I --> J["返回新的Access Token"];
    J --> G;  %% 循环使用新Token
    F --> K["销毁Token"];
    K --> L["关闭连接"];
    
"""

# 调用函数可视化流程图
visualize_flowchart(mermaid_graph)
```


<img src="https://mermaid.ink/img/CmdyYXBoIFRECiAgICBBW+eUqOaIt+WPkei1t+ivt+axgl0gLS0+IEJb6K+35rGC5o6I5p2D56CBXTsKICAgIEIgLS0+IENb55So5oi355m75b2V5bm25o6I5p2DXTsKICAgIEMgLS0+IERb6L+U5Zue5o6I5p2D56CBXTsKICAgIEQgLS0+IEVbIuS9v+eUqOaOiOadg+eggeivt+axglRva2VuIl07CiAgICBFIC0tPiBGWyLov5Tlm55BY2Nlc3MgVG9rZW7lkoxSZWZyZXNoIFRva2VuIl07CiAgICBGIC0tPiBHWyLkvb/nlKhBY2Nlc3MgVG9rZW7orr/pl65BUEkiXTsKICAgIEcgLS0+IEhbIkFQSei/lOWbnuaVsOaNriJdOwogICAgSCAtLT4gSVsi5L2/55SoUmVmcmVzaCBUb2tlbue7reacn0FjY2VzcyBUb2tlbiJdOwogICAgSSAtLT4gSlsi6L+U5Zue5paw55qEQWNjZXNzIFRva2VuIl07CiAgICBKIC0tPiBHOyAgJSUg5b6q546v5L2/55So5pawVG9rZW4KICAgIEYgLS0+IEtbIumUgOavgVRva2VuIl07CiAgICBLIC0tPiBMWyLlhbPpl63ov57mjqUiXTsKICAgIAo="/>



```python
import base64
from IPython.display import Image, display

def visualize_flowchart(graph):
    graphbytes = graph.encode("utf-8")
    base64_bytes = base64.b64encode(graphbytes)
    base64_string = base64_bytes.decode("utf-8")
    display(Image(url="https://mermaid.ink/img/" + base64_string))

# 定义你的Mermaid图
mermaid_graph = """
graph TD;
    A[用户发起请求] --> B[请求授权码];
    B --> C[用户登录并授权];
    C --> D[返回授权码];
    D --> E[使用授权码请求Token];
    E --> F[返回Access Token和Refresh Token];
    F --> G[使用Access Token访问API];
    G --> H[API返回数据];
    H --> I[使用Refresh Token续期Access Token];
    I --> J[返回新的Access Token];
    J --> G;  %% 循环使用新Token
    F --> K[销毁Token];
    K --> L[关闭连接];
"""

# 调用函数可视化流程图
visualize_flowchart(mermaid_graph)
```


<img src="https://mermaid.ink/img/CmdyYXBoIFREOwogICAgQVvnlKjmiLflj5Hotbfor7fmsYJdIC0tPiBCW+ivt+axguaOiOadg+eggV07CiAgICBCIC0tPiBDW+eUqOaIt+eZu+W9leW5tuaOiOadg107CiAgICBDIC0tPiBEW+i/lOWbnuaOiOadg+eggV07CiAgICBEIC0tPiBFW+S9v+eUqOaOiOadg+eggeivt+axglRva2VuXTsKICAgIEUgLS0+IEZb6L+U5ZueQWNjZXNzIFRva2Vu5ZKMUmVmcmVzaCBUb2tlbl07CiAgICBGIC0tPiBHW+S9v+eUqEFjY2VzcyBUb2tlbuiuv+mXrkFQSV07CiAgICBHIC0tPiBIW0FQSei/lOWbnuaVsOaNrl07CiAgICBIIC0tPiBJW+S9v+eUqFJlZnJlc2ggVG9rZW7nu63mnJ9BY2Nlc3MgVG9rZW5dOwogICAgSSAtLT4gSlvov5Tlm57mlrDnmoRBY2Nlc3MgVG9rZW5dOwogICAgSiAtLT4gRzsgICUlIOW+queOr+S9v+eUqOaWsFRva2VuCiAgICBGIC0tPiBLW+mUgOavgVRva2VuXTsKICAgIEsgLS0+IExb5YWz6Zet6L+e5o6lXTsK"/>



```python

```


```python

```


```python

```

```mermaid
graph TD;
    A[用户发起请求] --> B[请求授权码];
    B --> C[用户登录并授权];
    C --> D[返回授权码];
    D --> E[使用授权码请求Token];
    E --> F[返回Access Token和Refresh Token];
    F --> G[使用Access Token访问API];
    G --> H[API返回数据];
    H --> I[使用Refresh Token续期Access Token];
    I --> J[返回新的Access Token];
    J --> G;  %% 循环使用新Token
    F --> K[销毁Token];
    K --> L[关闭连接];



```python
当然可以！下面是一个更详细的 OAuth2 流程，涵盖了每个步骤。你可以用 Mermaid 语法将其转化为流程图。

### OAuth2 详细流程图示例

```markdown
```mermaid
graph TD;
    A[用户发起请求] --> B[请求授权码];
    B --> C[用户登录并授权];
    C --> D[返回授权码];
    D --> E[使用授权码请求Token];
    E --> F[返回Access Token和Refresh Token];
    F --> G[使用Access Token访问API];
    G --> H[API返回数据];
    H --> I[使用Refresh Token续期Access Token];
    I --> J[返回新的Access Token];
    J --> G;  %% 循环使用新Token
    F --> K[销毁Token];
    K --> L[关闭连接];
```
```

### 各步骤解释

1. **用户发起请求**：用户在客户端应用中发起请求。
2. **请求授权码**：客户端向授权服务器请求授权码。
3. **用户登录并授权**：用户在授权服务器上登录并授权应用访问其数据。
4. **返回授权码**：授权服务器返回授权码给客户端。
5. **使用授权码请求Token**：客户端使用授权码向授权服务器请求访问令牌（Token）。
6. **返回Access Token和Refresh Token**：授权服务器返回访问令牌和可选的刷新令牌。
7. **使用Access Token访问API**：客户端使用访问令牌访问受保护的API。
8. **API返回数据**：API返回请求的数据。
9. **使用Refresh Token续期Access Token**：客户端使用刷新令牌请求新的访问令牌（如果需要）。
10. **返回新的Access Token**：授权服务器返回新的访问令牌。
11. **销毁Token**：客户端可以选择销毁令牌（如用户注销时）。
12. **关闭连接**：结束连接。

### 如何使用

1. **选择支持 Mermaid 的 Markdown 编辑器**。
2. **将上述代码复制粘贴到编辑器中**。
3. **渲染并查看流程图**。

这样，你就可以清晰地展示 OAuth2 的完整链路流程。希望这能帮助你更好地理解整个过程！

---
 Upgrade to a faster and more stable API channel by [click here](/#/user/wallet).
```
