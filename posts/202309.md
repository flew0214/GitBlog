```python
# BMM 遗留作业
'''
物流经费率
去掉销售额未达的影响的视点，去试算经费率是多少？

l草稿：
把销售额拉到BP的值，根据目前销售额单价，试算 REC的量。
在以这个REC量的基础，按照现有的运费REC单价去推算。运费变成啥结果。

把出货REC拉到BP的值，......试算销售额？

把销售REC单价拉到BP的值，试算REC的量。。。。？


''' 

```


```python
记忆片段-1
```

# 0904

<1> t601 8/31数据不一致
1. 先删除8/31的数据
用dbeaver执行SQL文
delete from msmsupplydb.t601 where ARRIVAL_FIX_DATE ='2023-08-31';
2. 用telend同步数据
LL_T601_ARRIVAL_FIX_DATE 0.1
修改SQL文的日期
"select * from dlsite.cn_dlsite.T601 where ARRIVAL_FIX_DATE BETWEEN '2023-08-31' AND '2023-08-31'"
运行程序

<2> WMS 数据缺少了一天，联络毛，供应商已处理。

# 0906


```python
捆包资材费REC单价拆分
```


```python
1.确定拆分的方式：按照出荷类型拆分？
    1. 仓库经由的REC单价
    2. 转运&移库的REC单价

2.现状把握：(分析数据)
    1.计算拆分后的平均单价
    2.比较和分析：

3.调整予算分配：
    根据比较和分析的结果，你可以考虑是否需要调整每个部分的予算分配。如果某个部分的平均单价明显偏高或偏低，可能需要重新评估该部分的成本结构，并进行适当的调整。


```


```python

```

# 0907


```python
# coding: utf8
%load_ext autoreload
%autoreload 2 

import sys
sys.path.append("/work/src/lib")
#sys.path

import mysqlhelper as myh
import mssqlhelper as msh
import pandas as pd
from myslib import *
from log import *
import seaborn as sns
import matplotlib.pyplot as plt


%matplotlib inline
pd.options.display.max_columns = None
pd.set_option('display.float_format',lambda x:'%.2f'%x)
sns.set() #背景
plt.rcParams['font.sans-serif']=['Microsoft YaHei']
sns.set_context({'figure.figsize':[7, 5.5]})
sns.set_context("notebook", font_scale=1, rc={"lines.linewidth": 2.5}) #theme 主题设置  #paper, notebook, talk,  poster
plt.rcParams['axes.unicode_minus']=False
```


```python
import numpy as np
import matplotlib.pyplot as plt

# 定义六个分类
categories = ['分类1', '分类2', '分类3', '分类4', '分类5', '分类6']

# 定义每个分类的数据
data1 = [20, 30, 10, 15, 25, 12]
data2 = [15, 25, 12, 18, 30, 10]
data3 = [12, 18, 30, 10, 15, 25]
data4 = [25, 12, 18, 30, 10, 15]

# 设置柱状图的宽度
bar_width = 0.5

# 设置颜色方案
colors = ['#FFC107', '#9C27B0', '#4CAF50', '#F44336', '#2196F3', '#FF5722']

# 创建图表并设置大小
fig, ax = plt.subplots(figsize=(8, 6))

# 计算每个柱状图的位置
x = np.arange(len(categories))

# 绘制堆叠柱状图
ax.bar(x, data1, width=bar_width, color=colors[0], label=categories[0])
ax.bar(x, data2, width=bar_width, bottom=data1, color=colors[1], label=categories[1])
ax.bar(x, data3, width=bar_width, bottom=np.array(data1) + np.array(data2), color=colors[2], label=categories[2])
ax.bar(x, data4, width=bar_width, bottom=np.array(data1) + np.array(data2) + np.array(data3), color=colors[3], label=categories[3])



# 设置x轴标签
ax.set_xticks(x)
ax.set_xticklabels(categories)

# 设置y轴标签
ax.set_ylabel('数量')

# 添加图例
ax.legend()

# 显示图表
plt.show()
```


    
![png](output_10_0.png)
    



```python
jzdx1234
3101205003220200424
```


```python
list1 = ['嘉里', 2, 3]
list2 = ['a', 5, 6]
result = []

for item1, item2 in zip(list1, list2):
    result.append([item1, item2])

print(result)
```


```python
#元组
tuple1 = list(zip(list1, list2))
print(tuple1)
```

    [('嘉里', 'a'), (2, 5), (3, 6)]
    


```python
tuple1 [0][0]
```




    '嘉里'




```python
tuple1 [0][1]
```




    'a'




```python
#字典
dict1 = {k: v for k, v in zip(list1, list2)}
print(dict1)
```

    {'嘉里': 'a', 2: 5, 3: 6}
    


```python
dict1['嘉里']
```




    'a'




```python
https://m.runoob.com/http/
```


```python
https://m.runoob.com/cssref/css-colors.html
```


```python
https://webflow.com/design/sheng-bin-s-amazing-site
```


```python
https://htmlpage.cn/builder/
```


```python
目标未达。物流费比率跟跟FC比+0.1(4.64→4.74)
主原因是销售REC单价下降(802→577RMB/REC)，FC比▲28%。
如果实际销售REC单价维持FC的话，目标达成(3.40)

```


```python
目标未达。物流费比率跟跟FC比+0.1(4.64→4.74)
销售额:▲4.6%(▲8,982K)
出荷REC:+32.6%(79,057REC)
物流经费:▲2.9%(▲262K)
去除销售不达影响（假设REC单价维持实际，REC：+15,573、REC联动费用：+200K）。目标达成(4.61)
```


```python
违和感：
会给高层一个错觉，销售额不达（▲4.6%），为何物流还需要这么多人作业(REC-不含转运：+32.6%)。
对策：
事业部修正driver REC单价（调整出荷REC数）；避免销售不达，出荷REC超FC+33%的失真情况。
*物流在今年BP作业时，根据实际情况调整发射台单价。
```


```python

```


```python
# coding: utf8
%load_ext autoreload
%autoreload 2 

import sys
sys.path.append("/work/src/lib")
#sys.path

import mysqlhelper as myh
import mssqlhelper as msh
import pandas as pd
from myslib import *
from log import *
import seaborn as sns
import matplotlib.pyplot as plt


%matplotlib inline
pd.options.display.max_columns = None
pd.set_option('display.float_format',lambda x:'%.2f'%x)
sns.set() #背景
plt.rcParams['font.sans-serif']=['Microsoft YaHei']
sns.set_context({'figure.figsize':[7, 5.5]})
sns.set_context("notebook", font_scale=1, rc={"lines.linewidth": 2.5}) #theme 主题设置  #paper, notebook, talk,  poster
plt.rcParams['axes.unicode_minus']=False
```


```python

```
